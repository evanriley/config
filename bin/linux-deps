#!/usr/bin/env bash

# Installs packages for openSUSE Tumbleweed

{
  if [ -f /etc/os-release ]; then
    . /etc/os-release
  fi

  sudo zypper --non-interactive in gcc git gh gpg2 fish \
    kitty
  sudo zypper --non-interactive in emacs neovim tree-sitter luajit fzf ripgrep \
    fd clojure leiningen

  if [[ $(grep Microsoft /proc/version) ]]; then
    echo "Bash is running on WSL"
  fi

  cargo install xsv lsd exa bat frum

  echo "Deps have been installed."

  if [[ -n "$IS_WSL" || -n "$WSL_DISTRO_NAME" ]]; then
    echo "WSL detected, certain packages will not be installed."
  else
    sudo zypper --non-interactive in sway swaybg swaylock swayidle wlr-randr waybar \
      bemenu mako
  fi

}
